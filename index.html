<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <link href="favicon.ico" rel="icon" type="image/x-icon" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' />
    <title> 半自动奶精兑水机 </title>
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/jquery-contextmenu/dist/jquery.contextMenu.min.css">
    <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="./fontawesome-free-5.15.2-web/css/all.min.css">
    <link type="text/css" rel="stylesheet" href="./css/control-panel.css">
    <link type="text/css" rel="stylesheet" href="./css/index.css">
    <link type="text/css" rel="stylesheet" href="./css/control-panel.css">
    <script src="https://cdn.jsdelivr.net/npm/blueimp-md5/js/md5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-contextmenu/dist/jquery.contextMenu.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-contextmenu/dist/jquery.ui.position.js"></script>
    <script src="js/TDrag.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/html2canvas.js"></script>
    <script src="js/index.js"></script>
</head>

<body>
    <div id="main-view">
        <div id="functions-bar" class="d-inline-block px-4 py-4">
            <div id="control">
                <h4>半自动奶精兑水机 <small>V.Alpha</small></h4>
                <p class="text-right mb-1"><small><i class="fab fa-github-square fa-lg"></i> <a
                            href="https://github.com/Yakubo-s-Tea-Station/Yakubo-Mail-Generator">本项目</a> 创意源于 <i
                            class="fab fa-github-square fa-lg"></i> <a
                            href="https://github.com/shoushouminami/LaiLaiMail">LaiLaiMail</a></small></p>
                <div id="help-menu" class="text-left pl-3">
                    <h5 id="manuals-title">使用说明</h5>
                    <ul id="manuals-contents" class="px-4">
                    </ul>
                    <h5 id="notification-title">开发公告</h5>
                    <ul id="notification-contents" class="px-4">
                    </ul>
                </div>
                <div id="close-help-menu">
                    <div>
                        <a href="javascript:void(0);">收起说明</a>
                    </div>
                </div>
            </div>

            <div id="control-panel">
                <div id="messages-add-panel">
                    <div class="input-group mt-3">
                        <input id="text-input" type="text" class="form-control" placeholder="输入..."
                            contenteditable="true">
                        <div class="input-group-append">
                            <button id="text-button" class="btn btn-success" type="submit"
                                onclick="addText($('#text-input').val());$('#text-input').val('');">添加文字 <i
                                    class="fas fa-file-alt"></i></button>
                        </div>
                    </div>
                    <div class="btn-group mb-3">
                        <button id="image-button" type="button" class="btn btn-primary align-items-center"
                            onclick="$('#temp-file-input').click()"><i class="fas fa-image fa-lg"></i> 添加图片</button>
                        <button id="datetime-button" type="button" class="btn btn-warning"
                            onclick="addDatetime(new Date().toLocaleString())"><i class="fas fa-calendar-alt fa-lg"></i>
                            添加日期</button>
                    </div>
                </div>

                <button id="add-avatar-file" class="btn btn-success" type="submit"
                    onclick="$('#temp-avatar-file-input').click()">添加头像文件(或拖入下方区域) <i
                        class="fas fa-file-alt"></i></button>
                <div class="all-avatars-scroll-view">
                    <div id="all-avatars-common" class="all-avatars">

                    </div>
                </div>
                <div id="avatar-display-item-template" class="avatar-display-item d-none">
                    <img class="avatar-icon selectable-avatar-icon">
                </div>

                <div class="btn-group mt-3 d-none">
                    <button style="border-bottom-left-radius: 0;" type="button" class="btn btn-info" disabled><i
                            class="fas fa-outdent fa-lg"></i>
                        导入工程</button>
                    <button style="border-bottom-right-radius: 0;" type="button" class="btn btn-info" disabled>导出工程 <i
                            class="fas fa-indent fa-lg"></i></button>
                </div>

                <button type="button" style="border-top: 0; border-top-left-radius: 0;border-top-right-radius: 0;"
                    class="btn btn-outline-dark" onclick="saveImage()"><i class="fas fa-file-image-o fa-lg"></i>
                    导出图片</button>

                <div class="btn-group-vertical mt-3 d-none" style="width: 100%;">
                    <button type="button" class="btn btn-secondary" disabled>选择题头图片</button>
                    <button type="button" class="btn btn-dark" disabled>选择背景图片</button>
                    <button type="button" class="btn btn-secondary" disabled>选择落款图片</button>
                </div>

                <div class="input-group mt-3">
                    <input id="local-storage-info" type="text" class="form-control" disabled="disabled">
                    <div class="input-group-append">
                        <button id="clear-storage" class="btn btn-danger" type="submit"
                            onclick="localStorage.clear();refreshLocalStorageInfo();">清理缓存空间 <i
                                class="fas fa-file-alt"></i></button>
                    </div>
                </div>
            </div>

        </div>

        <div id="messages-canvas-container" class="d-inline-block align-top">
            <div id="messages-canvas">
                <img class="messages-header" crossorigin="anonymous" src="image/Header-Default.png">
                <div id="messages-body">
    
                </div>
                <img class="messages-footer" crossorigin="anonymous" src="image/Footer-Default.png">
                <img class="messages-footer-placeholder" crossorigin="anonymous" src="image/Footer-Default.png">
            </div>
        </div>
        

        <div id="text-block-template" class="basic-block text-block avatar-block d-none">
            <span class="square">
                <div contenteditable="true"></div>
            </span>
            <div class="triangle"></div>
            <img class="avatar-icon">
        </div>
        <div id="image-block-template" class="basic-block image-block d-none">
            <span>
                <img class="primary-img">
                <img class="water-print">
            </span>
            <img class="avatar-icon">
        </div>
        <div id="time-block-template" class="basic-block time-block d-none">
            <span>
                <span contenteditable="true"></span>
            </span>
        </div>
        <input id="temp-file-input" class="d-none" type="file" accept="image/png, image/jpeg"
            onchange="appendImageFromFile(this.files[0]);">
        <input id="temp-avatar-file-input" class="d-none" type="file" accept="image/png, image/jpeg"
            onchange="importAvatarFile(this.files[0]);">

        <input id="header-file-input" class="d-none" type="file" accept="image/png, image/jpeg"
            onchange="importAvatarFile(this.files[0]);">
        <input id="background-file-input" class="d-none" type="file" accept="image/png, image/jpeg"
            onchange="importAvatarFile(this.files[0]);">
        <input id="footer-file-input" class="d-none" type="file" accept="image/png, image/jpeg"
            onchange="importAvatarFile(this.files[0]);">
    </div>
    <footer>

    </footer>
</body>

</html>